{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _split = _interopRequireDefault(require(\"./split.js\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _diffMatchPatch = _interopRequireDefault(require(\"diff-match-patch\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar DiffComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DiffComponent, _Component);\n\n  function DiffComponent(props) {\n    var _this;\n\n    _classCallCheck(this, DiffComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DiffComponent).call(this, props));\n    _this.state = {\n      value: _this.props.value\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.diff = _this.diff.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DiffComponent, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var value = this.props.value;\n\n      if (value !== this.state.value) {\n        this.setState({\n          value: value\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      this.setState({\n        value: value\n      });\n\n      if (this.props.onChange) {\n        this.props.onChange(value);\n      }\n    }\n  }, {\n    key: \"diff\",\n    value: function diff() {\n      var dmp = new _diffMatchPatch[\"default\"]();\n      var lhString = this.state.value[0];\n      var rhString = this.state.value[1];\n\n      if (lhString.length === 0 && rhString.length === 0) {\n        return [];\n      }\n\n      var diff = dmp.diff_main(lhString, rhString);\n      dmp.diff_cleanupSemantic(diff);\n      var diffedLines = this.generateDiffedLines(diff);\n      var codeEditorSettings = this.setCodeMarkers(diffedLines);\n      return codeEditorSettings;\n    }\n  }, {\n    key: \"generateDiffedLines\",\n    value: function generateDiffedLines(diff) {\n      var C = {\n        DIFF_EQUAL: 0,\n        DIFF_DELETE: -1,\n        DIFF_INSERT: 1\n      };\n      var diffedLines = {\n        left: [],\n        right: []\n      };\n      var cursor = {\n        left: 1,\n        right: 1\n      };\n      diff.forEach(function (chunk) {\n        var chunkType = chunk[0];\n        var text = chunk[1];\n        var lines = text.split('\\n').length - 1; // diff-match-patch sometimes returns empty strings at random\n\n        if (text.length === 0) {\n          return;\n        }\n\n        var firstChar = text[0];\n        var lastChar = text[text.length - 1];\n        var linesToHighlight = 0;\n\n        switch (chunkType) {\n          case C.DIFF_EQUAL:\n            cursor.left += lines;\n            cursor.right += lines;\n            break;\n\n          case C.DIFF_DELETE:\n            // If the deletion starts with a newline, push the cursor down to that line\n            if (firstChar === '\\n') {\n              cursor.left++;\n              lines--;\n            }\n\n            linesToHighlight = lines; // If the deletion does not include a newline, highlight the same line on the right\n\n            if (linesToHighlight === 0) {\n              diffedLines.right.push({\n                startLine: cursor.right,\n                endLine: cursor.right\n              });\n            } // If the last character is a newline, we don't want to highlight that line\n\n\n            if (lastChar === '\\n') {\n              linesToHighlight -= 1;\n            }\n\n            diffedLines.left.push({\n              startLine: cursor.left,\n              endLine: cursor.left + linesToHighlight\n            });\n            cursor.left += lines;\n            break;\n\n          case C.DIFF_INSERT:\n            // If the insertion starts with a newline, push the cursor down to that line\n            if (firstChar === '\\n') {\n              cursor.right++;\n              lines--;\n            }\n\n            linesToHighlight = lines; // If the insertion does not include a newline, highlight the same line on the left\n\n            if (linesToHighlight === 0) {\n              diffedLines.left.push({\n                startLine: cursor.left,\n                endLine: cursor.left\n              });\n            } // If the last character is a newline, we don't want to highlight that line\n\n\n            if (lastChar === '\\n') {\n              linesToHighlight -= 1;\n            }\n\n            diffedLines.right.push({\n              startLine: cursor.right,\n              endLine: cursor.right + linesToHighlight\n            });\n            cursor.right += lines;\n            break;\n\n          default:\n            throw new Error('Diff type was not defined.');\n        }\n      });\n      return diffedLines;\n    } // Receives a collection of line numbers and iterates through them to highlight appropriately\n    // Returns an object that tells the render() method how to display the code editors\n\n  }, {\n    key: \"setCodeMarkers\",\n    value: function setCodeMarkers() {\n      var diffedLines = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        left: [],\n        right: []\n      };\n      var codeEditorSettings = [];\n      var newMarkerSet = {\n        left: [],\n        right: []\n      };\n\n      for (var i = 0; i < diffedLines.left.length; i++) {\n        var markerObj = {\n          startRow: diffedLines.left[i].startLine - 1,\n          endRow: diffedLines.left[i].endLine,\n          type: 'text',\n          className: 'codeMarker'\n        };\n        newMarkerSet.left.push(markerObj);\n      }\n\n      for (var _i = 0; _i < diffedLines.right.length; _i++) {\n        var _markerObj = {\n          startRow: diffedLines.right[_i].startLine - 1,\n          endRow: diffedLines.right[_i].endLine,\n          type: 'text',\n          className: 'codeMarker'\n        };\n        newMarkerSet.right.push(_markerObj);\n      }\n\n      codeEditorSettings[0] = newMarkerSet.left;\n      codeEditorSettings[1] = newMarkerSet.right;\n      return codeEditorSettings;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var markers = this.diff();\n      return _react[\"default\"].createElement(_split[\"default\"], {\n        name: this.props.name,\n        className: this.props.className,\n        focus: this.props.focus,\n        orientation: this.props.orientation,\n        splits: this.props.splits,\n        mode: this.props.mode,\n        theme: this.props.theme,\n        height: this.props.height,\n        width: this.props.width,\n        fontSize: this.props.fontSize,\n        showGutter: this.props.showGutter,\n        onChange: this.onChange,\n        onPaste: this.props.onPaste,\n        onLoad: this.props.onLoad,\n        onScroll: this.props.onScroll,\n        minLines: this.props.minLines,\n        maxLines: this.props.maxLines,\n        readOnly: this.props.readOnly,\n        highlightActiveLine: this.props.highlightActiveLine,\n        showPrintMargin: this.props.showPrintMargin,\n        tabSize: this.props.tabSize,\n        cursorStart: this.props.cursorStart,\n        editorProps: this.props.editorProps,\n        style: this.props.style,\n        scrollMargin: this.props.scrollMargin,\n        setOptions: this.props.setOptions,\n        wrapEnabled: this.props.wrapEnabled,\n        enableBasicAutocompletion: this.props.enableBasicAutocompletion,\n        enableLiveAutocompletion: this.props.enableLiveAutocompletion,\n        value: this.state.value,\n        markers: markers\n      });\n    }\n  }]);\n\n  return DiffComponent;\n}(_react.Component);\n\nexports[\"default\"] = DiffComponent;\nDiffComponent.propTypes = {\n  cursorStart: _propTypes[\"default\"].number,\n  editorProps: _propTypes[\"default\"].object,\n  enableBasicAutocompletion: _propTypes[\"default\"].bool,\n  enableLiveAutocompletion: _propTypes[\"default\"].bool,\n  focus: _propTypes[\"default\"].bool,\n  fontSize: _propTypes[\"default\"].number,\n  height: _propTypes[\"default\"].string,\n  highlightActiveLine: _propTypes[\"default\"].bool,\n  maxLines: _propTypes[\"default\"].func,\n  minLines: _propTypes[\"default\"].func,\n  mode: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  onLoad: _propTypes[\"default\"].func,\n  onPaste: _propTypes[\"default\"].func,\n  onScroll: _propTypes[\"default\"].func,\n  onChange: _propTypes[\"default\"].func,\n  orientation: _propTypes[\"default\"].string,\n  readOnly: _propTypes[\"default\"].bool,\n  scrollMargin: _propTypes[\"default\"].array,\n  setOptions: _propTypes[\"default\"].object,\n  showGutter: _propTypes[\"default\"].bool,\n  showPrintMargin: _propTypes[\"default\"].bool,\n  splits: _propTypes[\"default\"].number,\n  style: _propTypes[\"default\"].object,\n  tabSize: _propTypes[\"default\"].number,\n  theme: _propTypes[\"default\"].string,\n  value: _propTypes[\"default\"].array,\n  width: _propTypes[\"default\"].string,\n  wrapEnabled: _propTypes[\"default\"].bool\n};\nDiffComponent.defaultProps = {\n  cursorStart: 1,\n  editorProps: {},\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: false,\n  focus: false,\n  fontSize: 12,\n  height: '500px',\n  highlightActiveLine: true,\n  maxLines: null,\n  minLines: null,\n  mode: '',\n  name: 'brace-editor',\n  onLoad: null,\n  onScroll: null,\n  onPaste: null,\n  onChange: null,\n  orientation: 'beside',\n  readOnly: false,\n  scrollMargin: [0, 0, 0, 0],\n  setOptions: {},\n  showGutter: true,\n  showPrintMargin: true,\n  splits: 2,\n  style: {},\n  tabSize: 4,\n  theme: 'github',\n  value: ['', ''],\n  width: '500px',\n  wrapEnabled: true\n};","map":{"version":3,"sources":["C:/Users/user/assisted-goalmodel-editor/node_modules/react-ace/lib/diff.js"],"names":["Object","defineProperty","exports","value","_split","_interopRequireDefault","require","_react","_interopRequireWildcard","_propTypes","_diffMatchPatch","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","_typeof","Symbol","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","DiffComponent","_Component","_this","state","onChange","bind","diff","componentDidUpdate","setState","dmp","lhString","rhString","diff_main","diff_cleanupSemantic","diffedLines","generateDiffedLines","codeEditorSettings","setCodeMarkers","C","DIFF_EQUAL","DIFF_DELETE","DIFF_INSERT","left","right","cursor","forEach","chunk","chunkType","text","lines","split","firstChar","lastChar","linesToHighlight","push","startLine","endLine","Error","arguments","undefined","newMarkerSet","markerObj","startRow","endRow","type","className","_i","_markerObj","render","markers","createElement","name","focus","orientation","splits","mode","theme","height","width","fontSize","showGutter","onPaste","onLoad","onScroll","minLines","maxLines","readOnly","highlightActiveLine","showPrintMargin","tabSize","cursorStart","editorProps","style","scrollMargin","setOptions","wrapEnabled","enableBasicAutocompletion","enableLiveAutocompletion","Component","propTypes","number","object","bool","string","func","array","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _split = _interopRequireDefault(require(\"./split.js\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _diffMatchPatch = _interopRequireDefault(require(\"diff-match-patch\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DiffComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DiffComponent, _Component);\n\n  function DiffComponent(props) {\n    var _this;\n\n    _classCallCheck(this, DiffComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DiffComponent).call(this, props));\n    _this.state = {\n      value: _this.props.value\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.diff = _this.diff.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DiffComponent, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var value = this.props.value;\n\n      if (value !== this.state.value) {\n        this.setState({\n          value: value\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      this.setState({\n        value: value\n      });\n\n      if (this.props.onChange) {\n        this.props.onChange(value);\n      }\n    }\n  }, {\n    key: \"diff\",\n    value: function diff() {\n      var dmp = new _diffMatchPatch[\"default\"]();\n      var lhString = this.state.value[0];\n      var rhString = this.state.value[1];\n\n      if (lhString.length === 0 && rhString.length === 0) {\n        return [];\n      }\n\n      var diff = dmp.diff_main(lhString, rhString);\n      dmp.diff_cleanupSemantic(diff);\n      var diffedLines = this.generateDiffedLines(diff);\n      var codeEditorSettings = this.setCodeMarkers(diffedLines);\n      return codeEditorSettings;\n    }\n  }, {\n    key: \"generateDiffedLines\",\n    value: function generateDiffedLines(diff) {\n      var C = {\n        DIFF_EQUAL: 0,\n        DIFF_DELETE: -1,\n        DIFF_INSERT: 1\n      };\n      var diffedLines = {\n        left: [],\n        right: []\n      };\n      var cursor = {\n        left: 1,\n        right: 1\n      };\n      diff.forEach(function (chunk) {\n        var chunkType = chunk[0];\n        var text = chunk[1];\n        var lines = text.split('\\n').length - 1; // diff-match-patch sometimes returns empty strings at random\n\n        if (text.length === 0) {\n          return;\n        }\n\n        var firstChar = text[0];\n        var lastChar = text[text.length - 1];\n        var linesToHighlight = 0;\n\n        switch (chunkType) {\n          case C.DIFF_EQUAL:\n            cursor.left += lines;\n            cursor.right += lines;\n            break;\n\n          case C.DIFF_DELETE:\n            // If the deletion starts with a newline, push the cursor down to that line\n            if (firstChar === '\\n') {\n              cursor.left++;\n              lines--;\n            }\n\n            linesToHighlight = lines; // If the deletion does not include a newline, highlight the same line on the right\n\n            if (linesToHighlight === 0) {\n              diffedLines.right.push({\n                startLine: cursor.right,\n                endLine: cursor.right\n              });\n            } // If the last character is a newline, we don't want to highlight that line\n\n\n            if (lastChar === '\\n') {\n              linesToHighlight -= 1;\n            }\n\n            diffedLines.left.push({\n              startLine: cursor.left,\n              endLine: cursor.left + linesToHighlight\n            });\n            cursor.left += lines;\n            break;\n\n          case C.DIFF_INSERT:\n            // If the insertion starts with a newline, push the cursor down to that line\n            if (firstChar === '\\n') {\n              cursor.right++;\n              lines--;\n            }\n\n            linesToHighlight = lines; // If the insertion does not include a newline, highlight the same line on the left\n\n            if (linesToHighlight === 0) {\n              diffedLines.left.push({\n                startLine: cursor.left,\n                endLine: cursor.left\n              });\n            } // If the last character is a newline, we don't want to highlight that line\n\n\n            if (lastChar === '\\n') {\n              linesToHighlight -= 1;\n            }\n\n            diffedLines.right.push({\n              startLine: cursor.right,\n              endLine: cursor.right + linesToHighlight\n            });\n            cursor.right += lines;\n            break;\n\n          default:\n            throw new Error('Diff type was not defined.');\n        }\n      });\n      return diffedLines;\n    } // Receives a collection of line numbers and iterates through them to highlight appropriately\n    // Returns an object that tells the render() method how to display the code editors\n\n  }, {\n    key: \"setCodeMarkers\",\n    value: function setCodeMarkers() {\n      var diffedLines = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        left: [],\n        right: []\n      };\n      var codeEditorSettings = [];\n      var newMarkerSet = {\n        left: [],\n        right: []\n      };\n\n      for (var i = 0; i < diffedLines.left.length; i++) {\n        var markerObj = {\n          startRow: diffedLines.left[i].startLine - 1,\n          endRow: diffedLines.left[i].endLine,\n          type: 'text',\n          className: 'codeMarker'\n        };\n        newMarkerSet.left.push(markerObj);\n      }\n\n      for (var _i = 0; _i < diffedLines.right.length; _i++) {\n        var _markerObj = {\n          startRow: diffedLines.right[_i].startLine - 1,\n          endRow: diffedLines.right[_i].endLine,\n          type: 'text',\n          className: 'codeMarker'\n        };\n        newMarkerSet.right.push(_markerObj);\n      }\n\n      codeEditorSettings[0] = newMarkerSet.left;\n      codeEditorSettings[1] = newMarkerSet.right;\n      return codeEditorSettings;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var markers = this.diff();\n      return _react[\"default\"].createElement(_split[\"default\"], {\n        name: this.props.name,\n        className: this.props.className,\n        focus: this.props.focus,\n        orientation: this.props.orientation,\n        splits: this.props.splits,\n        mode: this.props.mode,\n        theme: this.props.theme,\n        height: this.props.height,\n        width: this.props.width,\n        fontSize: this.props.fontSize,\n        showGutter: this.props.showGutter,\n        onChange: this.onChange,\n        onPaste: this.props.onPaste,\n        onLoad: this.props.onLoad,\n        onScroll: this.props.onScroll,\n        minLines: this.props.minLines,\n        maxLines: this.props.maxLines,\n        readOnly: this.props.readOnly,\n        highlightActiveLine: this.props.highlightActiveLine,\n        showPrintMargin: this.props.showPrintMargin,\n        tabSize: this.props.tabSize,\n        cursorStart: this.props.cursorStart,\n        editorProps: this.props.editorProps,\n        style: this.props.style,\n        scrollMargin: this.props.scrollMargin,\n        setOptions: this.props.setOptions,\n        wrapEnabled: this.props.wrapEnabled,\n        enableBasicAutocompletion: this.props.enableBasicAutocompletion,\n        enableLiveAutocompletion: this.props.enableLiveAutocompletion,\n        value: this.state.value,\n        markers: markers\n      });\n    }\n  }]);\n\n  return DiffComponent;\n}(_react.Component);\n\nexports[\"default\"] = DiffComponent;\nDiffComponent.propTypes = {\n  cursorStart: _propTypes[\"default\"].number,\n  editorProps: _propTypes[\"default\"].object,\n  enableBasicAutocompletion: _propTypes[\"default\"].bool,\n  enableLiveAutocompletion: _propTypes[\"default\"].bool,\n  focus: _propTypes[\"default\"].bool,\n  fontSize: _propTypes[\"default\"].number,\n  height: _propTypes[\"default\"].string,\n  highlightActiveLine: _propTypes[\"default\"].bool,\n  maxLines: _propTypes[\"default\"].func,\n  minLines: _propTypes[\"default\"].func,\n  mode: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  onLoad: _propTypes[\"default\"].func,\n  onPaste: _propTypes[\"default\"].func,\n  onScroll: _propTypes[\"default\"].func,\n  onChange: _propTypes[\"default\"].func,\n  orientation: _propTypes[\"default\"].string,\n  readOnly: _propTypes[\"default\"].bool,\n  scrollMargin: _propTypes[\"default\"].array,\n  setOptions: _propTypes[\"default\"].object,\n  showGutter: _propTypes[\"default\"].bool,\n  showPrintMargin: _propTypes[\"default\"].bool,\n  splits: _propTypes[\"default\"].number,\n  style: _propTypes[\"default\"].object,\n  tabSize: _propTypes[\"default\"].number,\n  theme: _propTypes[\"default\"].string,\n  value: _propTypes[\"default\"].array,\n  width: _propTypes[\"default\"].string,\n  wrapEnabled: _propTypes[\"default\"].bool\n};\nDiffComponent.defaultProps = {\n  cursorStart: 1,\n  editorProps: {},\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: false,\n  focus: false,\n  fontSize: 12,\n  height: '500px',\n  highlightActiveLine: true,\n  maxLines: null,\n  minLines: null,\n  mode: '',\n  name: 'brace-editor',\n  onLoad: null,\n  onScroll: null,\n  onPaste: null,\n  onChange: null,\n  orientation: 'beside',\n  readOnly: false,\n  scrollMargin: [0, 0, 0, 0],\n  setOptions: {},\n  showGutter: true,\n  showPrintMargin: true,\n  splits: 2,\n  style: {},\n  tabSize: 4,\n  theme: 'github',\n  value: ['', ''],\n  width: '500px',\n  wrapEnabled: true\n};"]},"metadata":{},"sourceType":"script"}