{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\user\\\\assisted-goalmodel-editor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\user\\\\assisted-goalmodel-editor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\user\\\\assisted-goalmodel-editor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\user\\\\assisted-goalmodel-editor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\user\\\\assisted-goalmodel-editor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import{withStyles}from'@material-ui/core/styles';var previewWidth=400;var previewHeight=250;var previewMarginUnits=1;var previewPadUnits=0.5;var styles=function styles(theme){return{card:{position:'fixed',zIndex:1,width:previewWidth+theme.spacing(previewPadUnits*2),height:previewHeight+theme.spacing(previewPadUnits*2)},cardContent:{padding:theme.spacing(previewPadUnits)}};};var SvgPreview=/*#__PURE__*/function(_React$Component){_inherits(SvgPreview,_React$Component);function SvgPreview(props){var _this;_classCallCheck(this,SvgPreview);_this=_possibleConstructorReturn(this,_getPrototypeOf(SvgPreview).call(this,props));_this.handleMouseEnter=function(event){_this.setState({preview:true,x:event.clientX,y:event.clientY});};_this.handleMouseOut=function(event){_this.setState({preview:false});};_this.state={preview:false,x:0,y:0};return _this;}_createClass(SvgPreview,[{key:\"componentDidMount\",value:function componentDidMount(){this.componentDidUpdate();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var svgThumbnail=this.divThumbnail.querySelector('svg');if(svgThumbnail){svgThumbnail.setAttribute('width',this.props.width);svgThumbnail.setAttribute('height',this.props.height);var g=svgThumbnail.querySelector('g');g.addEventListener('mouseenter',this.handleMouseEnter);g.addEventListener('mouseleave',this.handleMouseOut);}if(this.divPreview){var svgPreview=this.divPreview.querySelector('svg');svgPreview.setAttribute('width',previewWidth);svgPreview.setAttribute('height',previewHeight);}}},{key:\"render\",value:function render(){var _this2=this;var classes=this.props.classes;var theme=this.props.theme;var previewMargin=theme.spacing(previewMarginUnits);return React.createElement(React.Fragment,null,React.createElement(\"div\",{id:\"svg-wrapper\",ref:function ref(div){return _this2.divThumbnail=div;},dangerouslySetInnerHTML:{__html:this.props.svg}}),this.state.preview&&React.createElement(Card,{id:\"preview-pop-up\",className:classes.card,raised:true,style:{left:this.state.x+previewMargin,top:this.state.y+previewMargin}},React.createElement(CardContent,{className:classes.cardContent},React.createElement(\"div\",{ref:function ref(div){return _this2.divPreview=div;},dangerouslySetInnerHTML:{__html:this.props.svg}}))));}}]);return SvgPreview;}(React.Component);export default withStyles(styles,{withTheme:true})(SvgPreview);","map":{"version":3,"sources":["C:/Users/user/assisted-goalmodel-editor/src/SvgPreview.js"],"names":["React","Card","CardContent","withStyles","previewWidth","previewHeight","previewMarginUnits","previewPadUnits","styles","theme","card","position","zIndex","width","spacing","height","cardContent","padding","SvgPreview","props","handleMouseEnter","event","setState","preview","x","clientX","y","clientY","handleMouseOut","state","componentDidUpdate","svgThumbnail","divThumbnail","querySelector","setAttribute","g","addEventListener","divPreview","svgPreview","classes","previewMargin","div","__html","svg","left","top","Component","withTheme"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst previewWidth = 400;\r\nconst previewHeight = 250;\r\nconst previewMarginUnits = 1;\r\nconst previewPadUnits = 0.5;\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    position: 'fixed',\r\n    zIndex: 1,\r\n    width: previewWidth + theme.spacing(previewPadUnits * 2),\r\n    height: previewHeight + theme.spacing(previewPadUnits * 2),\r\n  },\r\n  cardContent: {\r\n    padding: theme.spacing(previewPadUnits),\r\n\r\n  },\r\n});\r\n\r\nclass SvgPreview extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      preview: false,\r\n      x: 0,\r\n      y: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.componentDidUpdate();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const svgThumbnail = this.divThumbnail.querySelector('svg');\r\n    if (svgThumbnail) {\r\n      svgThumbnail.setAttribute('width', this.props.width);\r\n      svgThumbnail.setAttribute('height', this.props.height);\r\n      const g = svgThumbnail.querySelector('g');\r\n      g.addEventListener('mouseenter', this.handleMouseEnter);\r\n      g.addEventListener('mouseleave', this.handleMouseOut);\r\n    }\r\n    if (this.divPreview) {\r\n      const svgPreview = this.divPreview.querySelector('svg');\r\n      svgPreview.setAttribute('width', previewWidth);\r\n      svgPreview.setAttribute('height', previewHeight);\r\n    }\r\n  }\r\n\r\n  handleMouseEnter = (event) => {\r\n    this.setState({\r\n      preview: true,\r\n      x: event.clientX,\r\n      y: event.clientY,\r\n    });\r\n  }\r\n\r\n  handleMouseOut = (event) => {\r\n    this.setState({\r\n      preview: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { theme } = this.props;\r\n    const previewMargin = theme.spacing(previewMarginUnits);\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          id=\"svg-wrapper\"\r\n          ref={div => this.divThumbnail = div}\r\n          dangerouslySetInnerHTML={{__html: this.props.svg}}\r\n        >\r\n        </div>\r\n        {this.state.preview &&\r\n          <Card\r\n            id=\"preview-pop-up\"\r\n            className={classes.card}\r\n            raised\r\n            style={{\r\n              left: this.state.x + previewMargin,\r\n              top: this.state.y + previewMargin,\r\n            }}\r\n          >\r\n            <CardContent className={classes.cardContent}>\r\n              <div\r\n                ref={div => this.divPreview = div}\r\n                dangerouslySetInnerHTML={{__html: this.props.svg}}\r\n              >\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        }\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nSvgPreview.propTypes = {\r\n  svg: PropTypes.string.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n  height: PropTypes.string.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(SvgPreview);\r\n"]},"metadata":{},"sourceType":"module"}